<script setup lang="ts">
import { ref, onMounted } from "vue";
import CustomerSpecificLogsDataTableFilterbar from "~/components/CustomerSpecificLogsDataTableFilterbar.vue";
import DataTable from "~/components/DataTable.vue";
import {
  columns,
  type CustomerActivityLog,
} from "~/components/customerSpecificLog/columns";

const data = ref<CustomerActivityLog[]>([]);

async function getData(): Promise<CustomerActivityLog[]> {
  // Fetch data from your API here.
  return [
    {
      name: "Abebe Kebede",
      userName: "Abebe@23",
      userId: "117",
      contactNumber: "0911223344",
      emailId: "abebekebede@gmail.com",
      otherInfo: {
        module: "MAKE_TRANSFER",
        activityType: "N/A",
        customerId: "1002496540",
        dataAndTime: "2023-09-20 08:33:43",
        fromAccount: 1000333434544,
        toAccount: 1000433223322,
        amount: "10000",
        currency: "ETB",
        mfaType: "SECURE_ACCESS",
        mfaSecurityKey: "7aa7as7a8-e8a8ad9a-afd8ad-ad",
        mfaState: "verify",
        channel: "mobile",
        device: "SM-N96F",
        os: "android",
        deviceId: "0d0514e2382d9s",
        ipAddress: "115.113.211.120",
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      name: "Abebe Kebede",
      userName: "Abebe@23",
      userId: "117",
      contactNumber: "0911223344",
      emailId: "abebekebede@gmail.com",
      otherInfo: {
        module: "MAKE_TRANSFER",
        activityType: "N/A",
        customerId: "1002496540",
        userName: "dbpoluser",
        dataAndTime: "2020-09-20 08:33:43",
        fromAccount: 1000333434544,
        toAccount: 1000433223322,
        amount: "1000",
        currency: "ETB",
        mfaType: "SECURE_ACCESS",
        mfaSecurityKey: "7aa7as7a8-e8a8ad9a-afd8ad-ad",
        mfaState: "verify",
        channel: "mobile",
        device: "SM-N96F",
        os: "android",
        deviceId: "0d0514e2382d9s",
        ipAddress: "115.113.211.120",
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      name: "Kebede Abebe",
      userName: "Kebede@23",
      userId: "117",
      contactNumber: "0911223344",
      emailId: "abebekebede@gmail.com",
      otherInfo: {
        module: "MAKE_TRANSFER",
        activityType: "Activity1",
        customerId: "1002496540",
        userName: "dbpoluser",
        dataAndTime: "2021-09-20 08:33:43",
        fromAccount: 1000333434544,
        toAccount: 1000433223322,
        amount: "2000",
        currency: "ETB",
        mfaType: "SECURE_ACCESS",
        mfaSecurityKey: "7aa7as7a8-e8a8ad9a-afd8ad-ad",
        mfaState: "verify",
        channel: "mobile",
        device: "SM-N96F",
        os: "android",
        deviceId: "0d0514e2382d9s",
        ipAddress: "115.113.211.120",
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      name: "Joseph Kebede",
      userName: "Joseph@23",
      userId: "117",
      contactNumber: "0911223344",
      emailId: "abebekebede@gmail.com",
      otherInfo: {
        module: "MAKE_TRANSFER",
        activityType: "Activity2",
        customerId: "1002496540",
        userName: "dbpoluser",
        dataAndTime: "2022-09-20 08:33:43",
        fromAccount: 1000333434544,
        toAccount: 1000433223322,
        amount: "3000",
        currency: "ETB",
        mfaType: "SECURE_ACCESS",
        mfaSecurityKey: "7aa7as7a8-e8a8ad9a-afd8ad-ad",
        mfaState: "verify",
        channel: "mobile",
        device: "SM-N96F",
        os: "android",
        deviceId: "0d0514e2382d9s",
        ipAddress: "115.113.211.120",
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      name: "Robel Kebede",
      userName: "Robel@23",
      userId: "117",
      contactNumber: "0911223344",
      emailId: "abebekebede@gmail.com",
      otherInfo: {
        module: "MAKE_TRANSFER",
        activityType: "N/A",
        customerId: "1002496540",
        userName: "dbpoluser",
        dataAndTime: "2019-09-20 08:33:43",
        fromAccount: 1000333434544,
        toAccount: 1000433223322,
        amount: "4000",
        currency: "ETB",
        mfaType: "SECURE_ACCESS",
        mfaSecurityKey: "7aa7as7a8-e8a8ad9a-afd8ad-ad",
        mfaState: "verify",
        channel: "mobile",
        device: "SM-N96F",
        os: "android",
        deviceId: "0d0514e2382d9s",
        ipAddress: "115.113.211.120",
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      name: "Abebe Kebede",
      userName: "Abebe@23",
      userId: "117",
      contactNumber: "0911223344",
      emailId: "abebekebede@gmail.com",
      otherInfo: {
        module: "MAKE_TRANSFER",
        activityType: "N/A",
        customerId: "1002496540",
        userName: "dbpoluser",
        dataAndTime: "2018-09-20 08:33:43",
        fromAccount: 1000333434544,
        toAccount: 1000433223322,
        amount: "5000",
        currency: "ETB",
        mfaType: "SECURE_ACCESS",
        mfaSecurityKey: "7aa7as7a8-e8a8ad9a-afd8ad-ad",
        mfaState: "verify",
        channel: "mobile",
        device: "SM-N96F",
        os: "android",
        deviceId: "0d0514e2382d9s",
        ipAddress: "115.113.211.120",
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      name: "Abebe Kebede",
      userName: "Abebe@23",
      userId: "117",
      contactNumber: "0911223344",
      emailId: "abebekebede@gmail.com",
      otherInfo: {
        module: "MAKE_TRANSFER",
        activityType: "N/A",
        customerId: "1002496540",
        userName: "dbpoluser",
        dataAndTime: "2023-09-20 08:33:43",
        fromAccount: 1000333434544,
        toAccount: 1000433223322,
        amount: "6000",
        currency: "ETB",
        mfaType: "SECURE_ACCESS",
        mfaSecurityKey: "7aa7as7a8-e8a8ad9a-afd8ad-ad",
        mfaState: "verify",
        channel: "mobile",
        device: "SM-N96F",
        os: "android",
        deviceId: "0d0514e2382d9s",
        ipAddress: "115.113.211.120",
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      name: "Abebe Kebede",
      userName: "Abebe@23",
      userId: "117",
      contactNumber: "0911223344",
      emailId: "abebekebede@gmail.com",
      otherInfo: {
        module: "MAKE_TRANSFER",
        activityType: "N/A",
        customerId: "1002496540",
        userName: "dbpoluser",
        dataAndTime: "2023-09-20 08:33:43",
        fromAccount: 1000333434544,
        toAccount: 1000433223322,
        amount: "7000",
        currency: "ETB",
        mfaType: "SECURE_ACCESS",
        mfaSecurityKey: "7aa7as7a8-e8a8ad9a-afd8ad-ad",
        mfaState: "verify",
        channel: "mobile",
        device: "SM-N96F",
        os: "android",
        deviceId: "0d0514e2382d9s",
        ipAddress: "115.113.211.120",
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
    {
      name: "Abebe Kebede",
      userName: "Abebe@23",
      userId: "117",
      contactNumber: "0911223344",
      emailId: "abebekebede@gmail.com",
      otherInfo: {
        module: "MAKE_TRANSFER",
        activityType: "N/A",
        customerId: "1002496540",
        userName: "dbpoluser",
        dataAndTime: "2023-09-20 08:33:43",
        fromAccount: 1000333434544,
        toAccount: 1000433223322,
        amount: "100000",
        currency: "ETB",
        mfaType: "SECURE_ACCESS",
        mfaSecurityKey: "7aa7as7a8-e8a8ad9a-afd8ad-ad",
        mfaState: "verify",
        channel: "mobile",
        device: "SM-N96F",
        os: "android",
        deviceId: "0d0514e2382d9s",
        ipAddress: "115.113.211.120",
        logType: "AuditLogsAndMoneyMovementDTO",
        id: "fa6ads8yf8asd7fyasd8fasd87",
        createdBy: "systemUser",
        createdOn: "133234449984",
        sessionId: "76da9fy87yasdfy98asdfadsf",
        iscrAssist: "N/A",
        appsessionId: "sadf8ad-fads-adf7-sd68-7ads6",
        operatingSystem: "8.1.0",
        appVersion: "4.2.5",
        events: "2019-09-11 07:36:17.0",
        createdTS: "2019-09-11 07:36:17.0",
        isScheduled: false,
        notes: "N/A",
        checkNumber: 0,
        scheduleDate: "2019-09-11 07:36:17.0",
        frequencyType: "once",
        p2pContact: "65268282",
        penalityFlag: false,
      },
    },
  ];
}

onMounted(async () => {
  data.value = await getData();
});
</script>

<!-- Render DataTable only if data is available -->
<template>
  <div v-if="data.length > 0" class="py-5 flex flex-col space-y-5 mx-auto">
    <UiButton class="w-fit self-end px-5"
      ><Icon name="material-symbols:download" size="24" class="mr-2"></Icon
      >Download List</UiButton
    >

    <DataTable :columns="columns" :data="data">
      <template v-slot:toolbar="{ table }">
        <CustomerSpecificLogsDataTableFilterbar :table="table" />
      </template>
    </DataTable>
  </div>
  <div v-else class="py-10 flex justify-center w-full">
    <Loading />
  </div>
</template>
